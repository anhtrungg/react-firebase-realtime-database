(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(53),o=a.n(l),c=(a(64),a(54)),i=a(55),s=a(58),m=a(57),u=a(40),f=a(20),d=a.n(f);d.a.apps.length||d.a.initializeApp({apiKey:"AIzaSyAsem870UdpZSF10dPiGwjouLb82ftVEEA",authDomain:"voice-project-f2a8b.firebaseapp.com",databaseURL:"https://voice-project-f2a8b-default-rtdb.firebaseio.com",projectId:"voice-project-f2a8b",storageBucket:"voice-project-f2a8b.appspot.com",messagingSenderId:"605857742441",appId:"1:605857742441:web:b177c0818f004e3b982cf8",measurementId:"G-VPTF2DRKS2"});var p=d.a.database(),v=d.a,b=a(56),h=a.n(b);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var r=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(m.a)(this,a)}}var D=function(e){Object(s.a)(a,e);var t=E(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).writeUserData=function(){n.refDB.set(n.state),console.log("DATA SAVED")},n.getUserData=function(){n.refDB.on("value",function(e){var t=e.val();console.log(t),n.setState(t)})},n.handleSubmit=function(e){e.preventDefault();var t=n.refs.name.value,a=n.refs.role.value,r=n.refs.uid.value,l=n.state.developers;if(r&&t&&a&&l.length){var o=l.findIndex(function(e){return e.uid===r});l[o].name=t,l[o].role=a,n.setState({developers:l})}else if(t&&a){var c=(new Date).getTime().toString();l.push({uid:c,name:t,role:a}),n.setState({developers:l})}n.refs.name.value="",n.refs.role.value="",n.refs.uid.value=""},n.removeData=function(e){var t=n.state.developers.filter(function(t){return t.uid!==e.uid});n.setState({developers:t})},n.updateData=function(e){n.refs.uid.value=e.uid,n.refs.name.value=e.name,n.refs.role.value=e.role},n.subcribe=function(){n.refItem.on("value",function(e){var t=e.val();console.log(t)}),n.refItem.onDisconnect().set(null)},n.state={developers:[]},n.refDB=p.ref(),n.refItem=p.ref().child("developers").child("0"),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){!function(){var e=new v.firestore.Timestamp.fromDate(new Date),t=new v.firestore.Timestamp.fromMillis(new Date);h()(e.toDate(),"HH:mm");console.log("Timestamp: ",e),console.log("timeStamp1:",t)}(),this.getUserData()}},{key:"componentDidUpdate",value:function(e,t){t!==this.state&&this.writeUserData()}},{key:"UNSAFE_componentWillMount",value:function(){this.refDB.off()}},{key:"render",value:function(){var e=this,t=this.state.developers;return console.log(t),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h1",null,"Firebase Development Team"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},t.map(function(t){return r.a.createElement("div",{key:t.uid,className:"card float-left",style:{width:"18rem",marginRight:"1rem"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},t.role),r.a.createElement("button",{onClick:function(){return e.removeData(t)},className:"btn btn-link"},"Delete"),r.a.createElement("button",{onClick:function(){return e.updateData(t)},className:"btn btn-link"},"Edit")))}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-12"},r.a.createElement("h1",null,"Add new team member here"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-row"},r.a.createElement("input",{type:"hidden",ref:"uid"}),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",ref:"name",className:"form-control",placeholder:"Name"})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",null,"Role"),r.a.createElement("input",{type:"text",ref:"role",className:"form-control",placeholder:"Role"}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")),r.a.createElement("button",{onClick:this.subcribe,type:"button",className:"btn btn-secondary mt-4"},"Subcribe first item")))))}}]),a}(r.a.Component);o.a.render(r.a.createElement(D,null),document.getElementById("root"))},59:function(e,t,a){e.exports=a(119)}},[[59,2,1]]]);
//# sourceMappingURL=main.378d5aa0.chunk.js.map